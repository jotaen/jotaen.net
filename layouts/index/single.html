{{ define "title" }}Home{{ end }}

{{ define "main" }}

<main class="content">

  <h1 class="pagetitle">– Home –</h1>

  {{ range $i, $teaser := first 7 (where .Page.Site.RegularPages.ByPublishDate.Reverse "Type" "posts") }}
    {{ if eq $i 1 }}
      {{ partial "subscribe.html" }}
    {{ end }}
    {{ partial "teaser.html" . }}
  {{ end }}

  <div class="teaser teaser--flat" style="text-align: center">
    <div>
      Browse all {{ len (where .Page.Site.RegularPages "Type" "posts") }} posts <a href="/archive">in the archive</a>.
    </div>

    <div>
      {{ range $category, $tags := .Site.Data.tags }}
        {{ $category }}:
        {{ range $name := $tags }}
          <a href="/archive/#{{ $name | urlize }}" class="a--reset tag">{{ $name }}</a>
        {{ end }}
      {{ end }}
    </div>
  </div>

  <div class="teaser teaser__footer">
    <a href="/impressum">Impressum &amp; Datenschutz</a>
  </div>

</main>

{{ end }}
